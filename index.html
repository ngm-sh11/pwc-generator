<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PassCard Generator</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="description-container">
            <div class="card-description">
                <h2>Password Card Generator</h2>
                <p>脆弱なパスワードを強力なパスワードに変換するカードを生成できます。</p>
                <p>このカードは、一定のアルゴリズムに基づき、一意のシリアルナンバー(S/N)によって異なるパターンが生成されています。<br>スクリーンショットを撮り印刷するなどしてご活用ください。</p><br>
                <p>このシステムは、Minute
                    Objects社のプロダクト「PassCard」を元にデザインされていますが、<br>使用しているアルゴリズムは全く別のものですので、PassCardのシリアルナンバーとの互換性はありません。</p>
                <p>また、シリアルナンバーは都度完全にランダムに生成されるものであるため、<br>偶然にも他のユーザー様とシリアル番号が被る可能性があるという点で、PassCardと比べると信頼性は劣りますが、<br>生成されるパターンは<h1>「1840京」</h1>通り以上あるため、被ることは滅多にありません。</p>
                <p>また、シリアルナンバーやパターンの生成はJavaScriptによりすべてローカルで処理されるため、<br>これらがお使いの端末を出ていくこともありません。</p>
                <p>カードの下部に表示されている16桁の値がシリアルナンバーです。<br>万が一カードを紛失した場合でも、これを画面下部のボックスに入力することでお手元のカードと全く同じパターンのカードを再生成できます。<br>シリアルナンバーはしっかりメモし、安全な場所に保管しておくことをお勧めします。</p>
            </div>
        </div>

        <div class="card">
            <div class="front">
                <div class="number-table">
                    <!-- 数字変換表 -->
                </div>
                <div class="table-guide">
                    <!-- 表の読み方の図解 -->
                </div>
                <div class="serial-number">
                    <span id="displaySeed"></span>
                </div>
                <div class="qr-code">
                    <!-- QRコード表示領域 -->
                </div>
            </div>
            <div class="back">
                <div class="character-table" id="passcard">
                    <!-- 文字変換表 -->
                </div>
                <div class="serial-number" id="backSerialNumber"></div>
            </div>
        </div>

        <div class="card-controls">
            <button onclick="flipCard()">カードを裏返す</button>
            <button onclick="generateNewCard()">新しくカードを作成</button>
        </div>

        <div class="edit-sn">
            <label
                for="seedInput">ここにご自身のカードのS/Nを入力してください(カードに記載のQRコードからアクセスした場合は既に入力されています)<br></label>
            <input type="text" id="seedInput" value>
            <button onclick="generateCard()">カード生成</button>
        </div>

        <div class="description-container">
            <div class="card-description">
                <h2>カードの使い方</h2>
                <p>まず、数字のみのパスワードを作るか、大文字・小文字のアルファベット、数字、特殊文字全てを含んだパスワードを作るかを決めます。</p>
                <h3>数字のみ (表面): </h3>
                <p>アルファベット(大文字か小文字かは問いません)と数字の1~4で構成する文字列を、数字のみのパスワードに変換します。<br>ATMやクレジットカードの暗証番号、携帯回線のネットワーク暗証番号など、数字のみで構成される認証情報を生成するのに向いています。</p>
                <br>
                <h3>大文字小文字・数字・特殊文字全て (裏面): </h3>
                <p>アルファベット(大文字か小文字かは問いません)と数字の0~9、記号(@, $, *,
                    %)で構成される文字列を、大文字・小文字のアルファベット、数字、特殊文字を含んだ非常に強力なパスワードに変換します。一般的なアカウントの認証情報として用いる際にはこちらを推奨します。</p>
                <br>
                <p>どちらのパスワードを生成するか決めたら、各枠の左上または右下の英数字で文字列を作ります。何でも良いです。ABCD1234とかでも大丈夫。<br>一意の文字列を決めたら、その文字列の各文字を、その文字が記されている枠の真ん中の文字に置き換えます。</p>
                <br>
                <p>全て置き換えた結果できた文字列がパスワードになります。</p><br>
                <h3>例えば、S/Nが0000000000000000で、裏面の表でABCD1234を変換する場合: <br>
                        <img src="screenshot.png" id="screenshot"></h3><br>[A,
                    B, C, D, 1, 2, 3, 4]がそれぞれ画像のように対応し、[$A6WpBDK]となります。</p><br>
            </div>
        </div>

        <script
            src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
        <script src="script.js"></script>
    </body>
</html>